import socket

index = 0

while True:

	# Connect to Server
	sock = socket.socket()
	sock.connect(("192.168.0.101", 9090))

	# Input command
	try:
		command = input("$ ").split()
	except KeyboardInterrupt:
		print()
		raise SystemExit

	# Close script
	if command[0] in ['x','X']:
		raise SystemExit

	# Send command to Server
	sock.send(" ".join(command).encode())

	# OUTPUT
	if command[0] in ['>', '->']:

		# Data from Server
		data = (sock.recv(1024)).decode()

		# Get text info
		if command[1] not in ['/c', '/C']:
			print(data)

		# Get file
		else:

			# Choose name of file
			if len(command) > 3:
				if command[3] in ['/n','/N']:
					try:
						with open(command[4],'w') as file:
							file.write(data)
					except IndexError:
						print("Error: name is False")

			# Name of index
			else:
				try:
					command[2] = command[2].split('.')
					with open(command[2][0]+str(index)+'.'+command[2][1], 'w') as file:
						file.write(data)
						index += 1
				except IndexError:
					print("Error: name is False")

	# Close connection
	sock.close()
